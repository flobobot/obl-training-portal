<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>OBL Cocktail Handbook</title>
  <link rel="stylesheet" href="../style.css" />
  <style>
    body {
      font-family: system-ui, sans-serif;
      background-color: #f9f9f9;
      margin: 0;
      padding: 2rem;
      text-align: center;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    h2 {
      font-size: 1.5rem;
      margin-top: 2.5rem;
      color: #333;
    }

    .card-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin-top: 1rem;
    }

    .card {
      width: 200px;
      padding: 1rem;
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      transition: transform 0.2s ease-in-out;
    }

    .card:hover {
      transform: scale(1.04);
    }

    .card a {
      text-decoration: none;
      color: #333;
      font-weight: 600;
    }

    .tag {
      display: block;
      font-size: 0.8rem;
      margin-top: 0.5rem;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      text-transform: uppercase;
    }

    .classic { background-color: #e0f0ff; color: #0055aa; }
    .house { background-color: #fff4d0; color: #aa7700; }
    .non-alcoholic { background-color: #e4ffe0; color: #008800; }

    footer {
      margin-top: 3rem;
    }

    a.back {
      display: inline-block;
      margin-top: 2rem;
      font-size: 0.9rem;
      color: #3366cc;
    }
  </style>
</head>
<body>
  <h1>OBL Cocktail Handbook</h1>

  <div id="content"></div>

  <footer>
    <a class="back" href="../index.html">&larr; Back to Main Portal</a>
  </footer>

  <script>
    const categories = ["Classic", "House Riff", "Non-Alcoholic"];
    const categoryClasses = {
      "Classic": "classic",
      "House Riff": "house",
      "Non-Alcoholic": "non-alcoholic"
    };

    fetch("../data/cocktail_data_backup.json")
      .then(res => res.json())
      .then(data => {
        const contentDiv = document.getElementById("content");

        categories.forEach(category => {
          const section = document.createElement("section");
          const heading = document.createElement("h2");
          heading.textContent = category;
          section.appendChild(heading);

          const grid = document.createElement("div");
          grid.className = "card-grid";

          const cocktails = data.filter(c => c.category === category);
          cocktails.forEach(cocktail => {
            const card = document.createElement("div");
            card.className = "card";

            const link = document.createElement("a");
            link.href = `cocktail.html?slug=${cocktail.slug}`;
            link.textContent = cocktail.name;

            const tag = document.createElement("span");
            tag.className = `tag ${categoryClasses[category]}`;
            tag.textContent = category;

            card.appendChild(link);
            card.appendChild(tag);
            grid.appendChild(card);
          });

          section.appendChild(grid);
          contentDiv.appendChild(section);
        });
      })
      .catch(err => {
        document.getElementById("content").textContent = "Failed to load cocktail data.";
        console.error("Error loading data:", err);
      });
  </script>
</body>
</html>