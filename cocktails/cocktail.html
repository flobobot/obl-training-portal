<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cocktail Details</title>
  <link rel="stylesheet" href="../style.css" />
</head>
<body>
  <div class="card">
    <h1 id="cocktail-name">Loading...</h1>
    <p><a href="./index.html">‚Üê Back to Main Page</a></p>
    <div id="cocktail-details"></div>
  </div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const slug = params.get("slug");

    fetch("../data/cocktail_data_backup.json")
      .then(res => res.json())
      .then(data => {
        const cocktail = data.find(c => {
          if (!c.name) return false;
          return c.name.toLowerCase().replace(/\s+/g, "-") === slug;
        });

        if (!cocktail) {
          document.getElementById("cocktail-name").textContent = "Cocktail not found.";
          return;
        }

        document.getElementById("cocktail-name").textContent = cocktail.name;

        const detailHTML = `
          <p><strong>Ingredients:</strong><br>${cocktail.ingredients.replace(/\n/g, "<br>")}</p>
          <p><strong>Method:</strong><br>${cocktail.method}</p>
          <p><strong>Glassware:</strong> ${cocktail.glassware}</p>
          <p><strong>Garnish:</strong> ${cocktail.garnish}</p>
          ${cocktail.proTip ? `<p><strong>Pro Tip:</strong><br>${cocktail.proTip}</p>` : ""}
          ${cocktail.didYouKnow ? `<p><strong>Did You Know?</strong><br>${cocktail.didYouKnow}</p>` : ""}
          <p><strong>Category:</strong> ${cocktail.tag || "Uncategorised"}</p>
        `;

        document.getElementById("cocktail-details").innerHTML = detailHTML;
      })
      .catch(err => {
        document.getElementById("cocktail-name").textContent = "Error loading data.";
        console.error("Failed to load cocktail:", err);
      });
  </script>
</body>
</html>